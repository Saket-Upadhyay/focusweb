import{d as oe,r as S,o as ve,F as ge,G as se,y as j,z as X,_ as le,k as Q,H as ne,A as o,I as Ne,J as Se,K as Ee,L as Fe,M as me,B as fe,N as Be,O as De,C as pe,E as te,P as de,Q as Ve,R as qe}from"./DYhJ4OYa.js";const Ae=250,Ge=oe({__name:"Paani",props:{progress:{type:Number,default:0},flushing:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1},remainingMinutes:{type:Number,default:0},progressPercentage:{type:Number,default:0}},setup(x){const g=x,m=S(null);let t=null,P;const h=[];let D=0,a=0,R=0,M=0,G=0;function L(){m.value&&(m.value.width=window.innerWidth,m.value.height=window.innerHeight,D=window.innerHeight,m.value.style.width="100vw",m.value.style.height="100vh")}function E(){h.length=0;for(let u=0;u<Ae;u++)h.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,length:Math.random()*8+4,speed:Math.random()*2+.8})}function _(){h.length=0;for(let u=0;u<Ae;u++)h.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,length:Math.random()*8+4,speed:Math.random()*2+.8})}function K(u){if(!t||!m.value)return;(isNaN(u)||u<0)&&(u=m.value.height*.1);const w=[{opacity:.3,waveOffset:a*.5,amplitude:8},{opacity:.5,waveOffset:a*.8,amplitude:12},{opacity:.7,waveOffset:a,amplitude:10}];for(const T of w){t.save(),t.beginPath(),t.moveTo(-10,u);const $=.015;for(let O=-10;O<=m.value.width+10;O+=2){const Z=u+Math.sin(O*$+T.waveOffset)*T.amplitude;t.lineTo(O,Z)}t.lineTo(m.value.width+10,m.value.height),t.lineTo(-10,m.value.height),t.closePath(),t.fillStyle=`rgba(66, 184, 255, ${T.opacity})`,t.shadowColor=`rgba(66, 184, 255, ${T.opacity*.4})`,t.shadowBlur=6,t.fill(),t.restore()}}function F(){if(!t||!m.value)return;t.clearRect(0,0,m.value.width,m.value.height);const u=g.progressPercentage>=.3&&g.progressPercentage<.5,w=g.progressPercentage>=.5&&g.progressPercentage<.7,T=g.progressPercentage>=.7&&g.progressPercentage<.8,$=g.progressPercentage>=.8&&g.progressPercentage<.95,O=g.progressPercentage>=.95&&g.progressPercentage<1;if(u||w||T||$||O){let k=0;u?k=(g.progressPercentage-.3)/.2:w?k=1+(g.progressPercentage-.5)/.2:T?k=2+(g.progressPercentage-.7)/.1:$?k=3+(g.progressPercentage-.8)/.15:O&&(k=4),t.fillStyle=`rgba(0, 0, 0, ${.05*k})`,t.fillRect(0,0,m.value.width,m.value.height),(T||$)&&M>0&&(t.fillStyle=`rgba(255, 255, 200, ${M*.4})`,t.fillRect(0,0,m.value.width,m.value.height),M-=.1)}const Z=m.value.height-m.value.height*R;if(g.progress<1){let k=1,U=.5,z=1.2;u?(k=1.3,U=.55,z=1.3):w?(k=1.6,U=.6,z=1.4):T?(k=2,U=.7,z=1.6):($||O)&&(k=2.5,U=.8,z=2),t.strokeStyle=`rgba(66, 184, 255, ${U})`,t.lineWidth=z;for(let ee=0;ee<h.length*k;ee++){const H=h[ee%h.length];t.beginPath(),t.moveTo(H.x,H.y),t.lineTo(H.x,H.y+H.length),t.stroke()}}K(Z)}function I(){const u=D-D*R,w=g.isRunning?2.5:.4;for(const T of h)T.y+=T.speed*w,T.y+T.length>=u&&(T.y=0,T.x=Math.random()*window.innerWidth),T.y>D&&(T.y=0,T.x=Math.random()*window.innerWidth)}function Y(){a+=g.isRunning?.08:.01,g.progressPercentage>=.7&&g.progressPercentage<.95&&(G++,G>120&&Math.random()<.02&&(M=1,G=0)),g.flushing?(R+=(0-R)*.15,R<.1&&_()):R+=(g.progress-R)*.08,F(),I(),P=requestAnimationFrame(Y)}return ve(()=>{L(),E(),m.value&&(t=m.value.getContext("2d")),Y(),window.addEventListener("resize",L)}),ge(()=>{cancelAnimationFrame(P),window.removeEventListener("resize",L)}),se(()=>g.progress,()=>{F()}),(u,w)=>(X(),j("canvas",{ref_key:"canvas",ref:m,class:"sand-canvas"},null,512))}}),Le=le(Ge,[["__scopeId","data-v-4a6b41ed"]]),$e=["tabindex","aria-disabled"],Oe=["onClick"],B=30,We=3,Ie=oe({__name:"MinuteWheelPicker",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},min:{type:Number,default:1},max:{type:Number,default:60},keyboard:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(x,{expose:g,emit:m}){const t=x,P=m,h=S((t.modelValue+t.max)*B),D=Math.floor(We/2);let a=0,R=h.value;const M=Q(()=>({transform:`translateY(${-h.value+D*B}px)`}));function G(u){P("update:modelValue",u)}function L(u){t.disabled||(h.value+=u.deltaY,I(),Y(),h.value<=0&&u.deltaY<0?(P("update:modelValue",t.max),h.value=(t.max+t.max)*B):h.value>=(t.max-1)*B&&u.deltaY>0&&(P("update:modelValue",t.min),h.value=t.max*B))}function E(u){t.disabled||(a=u.touches[0].clientY,R=h.value)}function _(u){if(t.disabled)return;const w=u.touches[0].clientY-a;h.value=R-w,I(),Y()}function K(){if(t.disabled)return;const u=Math.round(h.value/B)%t.max;G((u+t.max)%t.max+t.min),Fe(()=>{h.value=(t.modelValue-t.min+t.max)*B})}function F(u){t.disabled||(u.key==="ArrowUp"?(u.preventDefault(),t.modelValue>t.min?P("update:modelValue",t.modelValue-1):P("update:modelValue",t.max)):u.key==="ArrowDown"&&(u.preventDefault(),t.modelValue<t.max?P("update:modelValue",t.modelValue+1):P("update:modelValue",t.min)))}function I(){h.value<0&&(h.value=0),h.value>(t.max*3-1)*B&&(h.value=(t.max*3-1)*B)}function Y(){const u=Math.round(h.value/B)%t.max;P("update:modelValue",(u+t.max)%t.max+t.min)}return se(()=>t.modelValue,u=>{h.value=(u-t.min+t.max)*B}),ve(()=>{t.keyboard&&window.addEventListener("keydown",F)}),ge(()=>{t.keyboard&&window.removeEventListener("keydown",F)}),g({onWheel:L}),(u,w)=>(X(),j("div",{class:"wheel-picker fade-list",tabindex:x.keyboard?0:void 0,onKeydown:w[0]||(w[0]=T=>x.keyboard?F:void 0),onWheel:ne(L,["prevent"]),onTouchstart:E,onTouchmove:_,onTouchend:K,"aria-disabled":x.disabled},[o("div",{class:"wheel-list",style:Ne(M.value)},[w[1]||(w[1]=o("div",{class:"wheel-padding"},null,-1)),(X(!0),j(Se,null,Ee(x.max*3,T=>(X(),j("div",{key:T,class:me(["wheel-item",{selected:(T-1)%x.max+x.min===x.modelValue,disabled:x.disabled}]),onClick:$=>!x.disabled&&G((T-1)%x.max+x.min)},fe((T-1)%x.max+x.min),11,Oe))),128)),w[2]||(w[2]=o("div",{class:"wheel-padding"},null,-1))],4)],40,$e))}}),He=le(Ie,[["__scopeId","data-v-a1b9b371"]]),_e={class:"focus-timer-bg"},Ke={class:"focus-timer-wrapper"},Ue={class:"timer-center"},ze={class:"controls-row"},Qe=["onKeydown","aria-label"],Ye=["onKeydown"],Je={class:"settings-header"},je={class:"settings-content"},Xe={class:"setting-item"},Ze={class:"setting-control"},et={class:"toggle-switch"},tt={class:"setting-item"},nt={class:"setting-control"},it={class:"toggle-switch"},at={class:"setting-item"},st={class:"setting-control"},ot=["disabled"],lt=5,ct=10,rt=600,ut=3,dt=2e3,mt=oe({__name:"FocusTimer",setup(x){const g=S(lt),m=S(g.value*60),t=S(!1),P=S(!1),h=S(null);let D=!1,a=null,R=S(!1);const M=S(!0),G=S(!1),L=S(!0),E=S(!1);let _=0,K=0,F=0;function I(p=!1){if(!M.value)return;a||(a=new(window.AudioContext||window.webkitAudioContext)),a.state==="suspended"&&a.resume();const n=20,e=a.currentTime,A=a.createGain();A.connect(a.destination),A.gain.setValueAtTime(0,e),A.gain.linearRampToValueAtTime(.6,e+.5),A.gain.setValueAtTime(.6,e+n-.8),A.gain.linearRampToValueAtTime(0,e+n);const ie=(i,s,l=1)=>{const v=a.createOscillator(),f=a.createGain(),c=a.createWaveShaper(),d=a.createBiquadFilter(),r=a.createDynamicsCompressor();v.connect(f),f.connect(c),c.connect(d),d.connect(r),r.connect(A),v.frequency.setValueAtTime(i,s);const y=1.2,V=i*.2*l;v.frequency.exponentialRampToValueAtTime(i-V,s+y);const b=.1,q=4,C=.5,J=3;f.gain.setValueAtTime(0,s),f.gain.linearRampToValueAtTime(.3,s+b),f.gain.exponentialRampToValueAtTime(C,s+b+q),f.gain.setValueAtTime(C,s+n-J),f.gain.exponentialRampToValueAtTime(.001,s+n);const N=new Float32Array(44100);for(let W=0;W<44100;W++)N[W]=Math.tanh(W/44100*2-1)*.3;c.curve=N,d.type="lowpass",d.frequency.setValueAtTime(400,s),d.Q.setValueAtTime(1,s),r.threshold.setValueAtTime(-15,s),r.knee.setValueAtTime(30,s),r.ratio.setValueAtTime(2,s),r.attack.setValueAtTime(.05,s),r.release.setValueAtTime(.2,s),v.start(s),v.stop(s+n)};[{freq:65.41,time:0,slide:.5},{freq:82.41,time:1,slide:.4},{freq:65.41,time:2,slide:.5},{freq:98,time:3,slide:.3},{freq:65.41,time:4,slide:.5},{freq:82.41,time:5,slide:.4},{freq:65.41,time:6,slide:.5},{freq:98,time:7,slide:.3},{freq:65.41,time:8,slide:.5},{freq:82.41,time:9,slide:.4},{freq:87.31,time:10,slide:.5},{freq:110,time:11,slide:.4},{freq:87.31,time:12,slide:.5},{freq:130.81,time:13,slide:.3},{freq:87.31,time:14,slide:.5},{freq:110,time:15,slide:.4},{freq:87.31,time:16,slide:.5},{freq:130.81,time:17,slide:.3},{freq:87.31,time:18,slide:.5},{freq:110,time:19,slide:.4}].forEach(({freq:i,time:s,slide:l})=>{ie(i,e+s,l)});const Pe=(i,s=1,l="closed")=>{const v=a.sampleRate*(l==="open"?.4:.08),f=a.createBuffer(1,v,a.sampleRate),c=f.getChannelData(0);for(let q=0;q<v;q++){const C=l==="open"?.5:.2;c[q]=(Math.random()*2-1)*Math.exp(-q/(v*C))*.7}const d=a.createBufferSource(),r=a.createGain(),y=a.createBiquadFilter();d.buffer=f,d.connect(r),r.connect(y),y.connect(A);const V=.02,b=l==="open"?.3:.1;r.gain.setValueAtTime(0,i),r.gain.linearRampToValueAtTime(.08*s,i+V),r.gain.exponentialRampToValueAtTime(.001,i+V+b),y.type="highpass",y.frequency.setValueAtTime(8e3,i),y.Q.setValueAtTime(1,i),d.start(i),d.stop(i+b)};[{time:0,vel:.6,type:"closed"},{time:.5,vel:.4,type:"closed"},{time:1,vel:.6,type:"closed"},{time:1.5,vel:.4,type:"closed"},{time:2,vel:.6,type:"closed"},{time:2.5,vel:.4,type:"closed"},{time:3,vel:.6,type:"closed"},{time:3.5,vel:.4,type:"closed"},{time:4,vel:.6,type:"closed"},{time:4.5,vel:.4,type:"closed"},{time:5,vel:.6,type:"closed"},{time:5.5,vel:.4,type:"closed"},{time:6,vel:.6,type:"closed"},{time:6.5,vel:.4,type:"closed"},{time:7,vel:.6,type:"closed"},{time:7.5,vel:.4,type:"closed"},{time:8,vel:.6,type:"closed"},{time:8.5,vel:.4,type:"closed"},{time:9,vel:.6,type:"closed"},{time:9.5,vel:.4,type:"closed"},{time:10,vel:.6,type:"closed"},{time:10.5,vel:.4,type:"closed"},{time:11,vel:.6,type:"closed"},{time:11.5,vel:.4,type:"closed"},{time:12,vel:.6,type:"closed"},{time:12.5,vel:.4,type:"closed"},{time:13,vel:.6,type:"closed"},{time:13.5,vel:.4,type:"closed"},{time:14,vel:.6,type:"closed"},{time:14.5,vel:.4,type:"closed"},{time:15,vel:.6,type:"closed"},{time:15.5,vel:.4,type:"closed"},{time:16,vel:.6,type:"closed"},{time:16.5,vel:.4,type:"closed"},{time:17,vel:.6,type:"closed"},{time:17.5,vel:.4,type:"closed"},{time:18,vel:.6,type:"closed"},{time:18.5,vel:.4,type:"closed"},{time:19,vel:.6,type:"closed"},{time:19.5,vel:.4,type:"closed"}].forEach(({time:i,vel:s,type:l})=>{Pe(e+i,s,l)});const Re=(i,s=1)=>{const l=a.sampleRate*.4,v=a.createBuffer(1,l,a.sampleRate),f=v.getChannelData(0);for(let q=0;q<l;q++){const C=(Math.random()*2-1)*Math.exp(-q/(l*.08))*.5,J=Math.sin(q*.1)*Math.exp(-q/(l*.15))*.3,N=Math.sin(q*.2)*Math.exp(-q/(l*.05))*.2;f[q]=(C+J+N)*.4}const c=a.createBufferSource(),d=a.createGain(),r=a.createBiquadFilter(),y=a.createDynamicsCompressor();c.buffer=v,c.connect(d),d.connect(r),r.connect(y),y.connect(A);const V=.02,b=.6;d.gain.setValueAtTime(0,i),d.gain.linearRampToValueAtTime(.15*s,i+V),d.gain.exponentialRampToValueAtTime(.001,i+V+b),r.type="bandpass",r.frequency.setValueAtTime(700,i),r.Q.setValueAtTime(2,i),y.threshold.setValueAtTime(-10,i),y.knee.setValueAtTime(40,i),y.ratio.setValueAtTime(2,i),y.attack.setValueAtTime(.02,i),y.release.setValueAtTime(.1,i),c.start(i),c.stop(i+b)};[1,3,5,7,9,11,13,15,17,19].forEach(i=>{Re(e+i,.8)}),(()=>{const i=a.createOscillator(),s=a.createGain(),l=a.createBiquadFilter(),v=a.createDelay(),f=a.createGain();i.connect(s),s.connect(l),l.connect(v),v.connect(f),f.connect(A),i.frequency.setValueAtTime(110,e),i.type="sine";const c=2,d=5,r=.3,y=4;s.gain.setValueAtTime(0,e),s.gain.linearRampToValueAtTime(.03,e+c),s.gain.linearRampToValueAtTime(r,e+c+d),s.gain.setValueAtTime(r,e+n-y),s.gain.linearRampToValueAtTime(0,e+n),l.type="lowpass",l.frequency.setValueAtTime(500,e),l.Q.setValueAtTime(1,e),v.delayTime.setValueAtTime(.6,e),f.gain.setValueAtTime(.3,e),f.gain.linearRampToValueAtTime(0,e+n),i.start(e),i.stop(e+n)})();const Me=(i,s=1)=>{const l=a.createOscillator(),v=a.createGain(),f=a.createBiquadFilter(),c=a.createDynamicsCompressor();l.connect(v),v.connect(f),f.connect(c),c.connect(A),l.frequency.setValueAtTime(60,i),l.frequency.exponentialRampToValueAtTime(40,i+.2),l.type="sine";const d=.02,r=.4;v.gain.setValueAtTime(0,i),v.gain.linearRampToValueAtTime(.25*s,i+d),v.gain.exponentialRampToValueAtTime(.001,i+d+r),f.type="lowpass",f.frequency.setValueAtTime(300,i),f.Q.setValueAtTime(1,i),c.threshold.setValueAtTime(-5,i),c.knee.setValueAtTime(30,i),c.ratio.setValueAtTime(3,i),c.attack.setValueAtTime(.005,i),c.release.setValueAtTime(.05,i),l.start(i),l.stop(i+r)};[{time:0,vel:.8},{time:2,vel:.7},{time:4,vel:.8},{time:6,vel:.7},{time:8,vel:.8},{time:10,vel:.7},{time:12,vel:.8},{time:14,vel:.7},{time:16,vel:.8},{time:18,vel:.7}].forEach(({time:i,vel:s})=>{Me(e+i,s)});const Ce=i=>{const s=a.sampleRate*.15,l=a.createBuffer(1,s,a.sampleRate),v=l.getChannelData(0);for(let V=0;V<s;V++){const b=Math.sin(V*.3)*Math.exp(-V/(s*.02))*.5;v[V]=b*.4}const f=a.createBufferSource(),c=a.createGain(),d=a.createBiquadFilter();f.buffer=l,f.connect(c),c.connect(d),d.connect(A);const r=.005,y=.2;c.gain.setValueAtTime(0,i),c.gain.linearRampToValueAtTime(.12,i+r),c.gain.exponentialRampToValueAtTime(.001,i+r+y),d.type="highpass",d.frequency.setValueAtTime(1500,i),d.Q.setValueAtTime(1.5,i),f.start(i),f.stop(i+y)};[1.5,3.5,5.5,7.5,9.5,11.5,13.5,15.5,17.5,19.5].forEach(i=>{Ce(e+i)}),(()=>{[{time:0,chord:[{freq:146.83,type:"sine",gain:.25,voice:"bass"},{freq:293.66,type:"sine",gain:.22,voice:"tenor"},{freq:349.23,type:"sine",gain:.2,voice:"alto"},{freq:440,type:"triangle",gain:.18,voice:"soprano"}]},{time:2.5,chord:[{freq:110,type:"sine",gain:.25,voice:"bass"},{freq:220,type:"sine",gain:.22,voice:"tenor"},{freq:261.63,type:"sine",gain:.2,voice:"alto"},{freq:329.63,type:"triangle",gain:.18,voice:"soprano"}]},{time:5,chord:[{freq:98,type:"sine",gain:.25,voice:"bass"},{freq:196,type:"sine",gain:.22,voice:"tenor"},{freq:246.94,type:"sine",gain:.2,voice:"alto"},{freq:329.63,type:"triangle",gain:.18,voice:"soprano"}]},{time:7.5,chord:[{freq:146.83,type:"sine",gain:.25,voice:"bass"},{freq:293.66,type:"sine",gain:.22,voice:"tenor"},{freq:349.23,type:"sine",gain:.2,voice:"alto"},{freq:440,type:"triangle",gain:.18,voice:"soprano"}]},{time:10,chord:[{freq:174.61,type:"sine",gain:.25,voice:"bass"},{freq:349.23,type:"sine",gain:.22,voice:"tenor"},{freq:440,type:"sine",gain:.2,voice:"alto"},{freq:523.25,type:"triangle",gain:.18,voice:"soprano"}]},{time:12.5,chord:[{freq:110,type:"sine",gain:.25,voice:"bass"},{freq:220,type:"sine",gain:.22,voice:"tenor"},{freq:261.63,type:"sine",gain:.2,voice:"alto"},{freq:329.63,type:"triangle",gain:.18,voice:"soprano"}]},{time:15,chord:[{freq:98,type:"sine",gain:.25,voice:"bass"},{freq:196,type:"sine",gain:.22,voice:"tenor"},{freq:246.94,type:"sine",gain:.2,voice:"alto"},{freq:329.63,type:"triangle",gain:.18,voice:"soprano"}]},{time:17.5,chord:[{freq:146.83,type:"sine",gain:.25,voice:"bass"},{freq:293.66,type:"sine",gain:.22,voice:"tenor"},{freq:349.23,type:"sine",gain:.2,voice:"alto"},{freq:440,type:"triangle",gain:.18,voice:"soprano"}]}].forEach(({time:s,chord:l})=>{l.forEach(({freq:v,type:f,gain:c,voice:d})=>{const r=a.createOscillator(),y=a.createGain(),V=a.createBiquadFilter(),b=a.createDelay(),q=a.createGain();r.connect(y),y.connect(V),V.connect(b),b.connect(q),q.connect(A),r.frequency.setValueAtTime(v,e+s),r.type=f;const C=.6,J=1.2,N=.8,W=1;y.gain.setValueAtTime(0,e+s),y.gain.linearRampToValueAtTime(c,e+s+C),y.gain.linearRampToValueAtTime(c*N,e+s+C+J),y.gain.setValueAtTime(c*N,e+s+2.5-W),y.gain.linearRampToValueAtTime(0,e+s+2.5);const ae=a.createOscillator(),ue=a.createGain();ae.connect(ue),ue.connect(r.frequency),ae.frequency.setValueAtTime(5.5,e+s),ue.gain.setValueAtTime(v*.003,e+s),ae.start(e+s),ae.stop(e+s+2.5),V.type="lowpass",V.frequency.setValueAtTime(2500,e+s),V.Q.setValueAtTime(1.2,e+s),b.delayTime.setValueAtTime(.5,e+s),q.gain.setValueAtTime(.25,e+s),q.gain.linearRampToValueAtTime(0,e+s+2.5),r.start(e+s),r.stop(e+s+2.5)})})})(),(()=>{[{freq:293.66,type:"sine",gain:.15,voice:"violin1"},{freq:220,type:"sine",gain:.18,voice:"violin2"},{freq:146.83,type:"sine",gain:.2,voice:"viola"},{freq:110,type:"sine",gain:.22,voice:"cello"}].forEach(({freq:s,type:l,gain:v,voice:f})=>{const c=a.createOscillator(),d=a.createGain(),r=a.createBiquadFilter(),y=a.createDelay(),V=a.createGain();c.connect(d),d.connect(r),r.connect(y),y.connect(V),V.connect(A),c.frequency.setValueAtTime(s,e),c.type=l;const b=1.5,q=2.5,C=.9,J=2;d.gain.setValueAtTime(0,e),d.gain.linearRampToValueAtTime(v,e+b),d.gain.linearRampToValueAtTime(v*C,e+b+q),d.gain.setValueAtTime(v*C,e+n-J),d.gain.linearRampToValueAtTime(0,e+n);const N=a.createOscillator(),W=a.createGain();N.connect(W),W.connect(c.frequency),N.frequency.setValueAtTime(6,e),W.gain.setValueAtTime(s*.004,e),N.start(e),N.stop(e+n),r.type="lowpass",r.frequency.setValueAtTime(1800,e),r.Q.setValueAtTime(1,e),y.delayTime.setValueAtTime(.7,e),V.gain.setValueAtTime(.2,e),V.gain.linearRampToValueAtTime(0,e+n),c.start(e),c.stop(e+n)})})(),(()=>{[{freq:440,time:.5,duration:1},{freq:493.88,time:1.5,duration:.5},{freq:523.25,time:2,duration:1},{freq:493.88,time:3,duration:.5},{freq:440,time:3.5,duration:1},{freq:392,time:5.5,duration:.5},{freq:440,time:6,duration:1},{freq:493.88,time:7,duration:.5},{freq:523.25,time:7.5,duration:1},{freq:587.33,time:8.5,duration:.5},{freq:523.25,time:9,duration:1},{freq:493.88,time:10.5,duration:.5},{freq:440,time:11,duration:1},{freq:392,time:12,duration:.5},{freq:349.23,time:12.5,duration:1},{freq:392,time:13.5,duration:.5},{freq:440,time:14,duration:1},{freq:493.88,time:15.5,duration:.5},{freq:523.25,time:16,duration:1},{freq:587.33,time:17,duration:.5},{freq:659.25,time:17.5,duration:1},{freq:587.33,time:18.5,duration:.5},{freq:523.25,time:19,duration:1},{freq:493.88,time:19.5,duration:.5}].forEach(({freq:s,time:l,duration:v})=>{const f=a.createOscillator(),c=a.createGain(),d=a.createBiquadFilter();f.connect(c),c.connect(d),d.connect(A),f.frequency.setValueAtTime(s,e+l),f.type="triangle";const r=.08,y=.4,V=.7,b=.5;c.gain.setValueAtTime(0,e+l),c.gain.linearRampToValueAtTime(.12,e+l+r),c.gain.linearRampToValueAtTime(V*.12,e+l+r+y),c.gain.setValueAtTime(V*.12,e+l+v-b),c.gain.linearRampToValueAtTime(0,e+l+v),d.type="bandpass",d.frequency.setValueAtTime(1e3,e+l),d.Q.setValueAtTime(2.5,e+l),f.start(e+l),f.stop(e+l+v)})})(),G.value=!0,setTimeout(()=>{G.value=!1},n*1e3),p||(_++,_<ut?setTimeout(()=>{I(!1)},dt):(_=0,R.value=!0))}function Y(){M.value&&I(!0)}function u(){L.value&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Focus Timer Complete!",{body:"Your focus session has ended. Time for a break!",icon:"/favicon.ico",tag:"focus-timer",requireInteraction:!1})}function w(){"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(p=>{p==="granted"&&console.log("Notification permission granted")})}const T=Q(()=>Math.floor(m.value/60)),$=Q(()=>m.value%60),O=Q(()=>1-m.value/(g.value*60)),Z=Q(()=>T.value===0&&$.value<ct),k=Q(()=>m.value===0),U=Q(()=>1-m.value/(g.value*60)),z=Q(()=>{const p=T.value,n=$.value;if(p>=1){const e=n>30?p+1:p;return e>1?`${e} minutes left.`:"Just a minute left!"}return p===0&&n>0?`${n} seconds left.`:"---"});function ee(){if(t.value)return;R.value=!1,_=0,K=Date.now(),F=m.value*1e3,t.value=!0;function p(){if(!t.value)return;const e=Date.now()-K,A=Math.max(0,F-e),ie=Math.ceil(A/1e3);ie!==m.value&&(m.value=ie),A<=0?(R.value||I(!1),u(),H()):setTimeout(()=>{t.value&&requestAnimationFrame(p)},100)}requestAnimationFrame(p)}function H(){t.value=!1}function ce(){t.value?H():ee()}function re(){H(),P.value=!0,setTimeout(()=>{P.value=!1,m.value=g.value*60},rt)}function ye(p){p.code==="Space"?(p.preventDefault(),ce()):p.key==="r"||p.key==="R"?(p.preventDefault(),re()):(p.key==="p"||p.key==="P")&&(p.preventDefault(),E.value=!E.value)}function he(p){var e,A;if(t.value)return;const n=h.value;(A=(e=n==null?void 0:n.$)==null?void 0:e.exposed)!=null&&A.onWheel&&n.$.exposed.onWheel(p)}function Te(){if(t.value){const p=Date.now(),n=p-K,e=Math.max(0,F-n);K=p-(F-e)}}se(g,p=>{D||t.value||(m.value=p*60)}),se(k,p=>{p&&!R.value&&t.value&&I(!1)});const we=Be();ve(()=>{be(),xe(),w()}),ge(()=>{ke()});function be(){D=!0;const p=parseInt(we.query.min);!isNaN(p)&&p>=0&&(g.value=p,m.value=p*60),D=!1}function xe(){window.addEventListener("keydown",ye),document.addEventListener("wheel",he,{passive:!1}),document.addEventListener("visibilitychange",Te)}function ke(){window.removeEventListener("keydown",ye),document.removeEventListener("wheel",he),document.removeEventListener("visibilitychange",Te)}return(p,n)=>(X(),j("div",_e,[o("div",Ke,[pe(Le,{class:"water-bg",progress:O.value,flushing:P.value,isRunning:t.value&&!k.value,remainingMinutes:T.value,progressPercentage:U.value},null,8,["progress","flushing","isRunning","remainingMinutes","progressPercentage"]),o("div",{class:me(["minute-picker-abs",{hidden:t.value}])},[pe(He,{ref_key:"minutePickerRef",ref:h,modelValue:g.value,"onUpdate:modelValue":n[0]||(n[0]=e=>g.value=e),disabled:t.value,min:1},null,8,["modelValue","disabled"])],2),o("div",Ue,[o("div",{class:me(["timer-display",{running:t.value,countdown:Z.value,"chime-playing":G.value}])},fe(z.value),3),o("div",ze,[n[11]||(n[11]=o("div",{class:"controls-text",tabindex:"0"},[o("span",{class:"controls-key"},"â†‘"),o("span",{class:"controls-key"},"â†“"),te(" Set minutes ")],-1)),o("div",{class:"controls-text",tabindex:"0",onClick:ce},[o("span",{class:"controls-key controls-space",role:"button",tabindex:"0",onKeydown:de(ne(ce,["prevent"]),["enter"]),"aria-label":t.value?"Pause":"Start"},n[8]||(n[8]=[o("span",{class:"spacebar-icon"},null,-1)]),40,Qe),o("span",null,fe(t.value?"Pause":"Start"),1)]),o("div",{class:"controls-text",tabindex:"0",onClick:re},[o("span",{class:"controls-key",role:"button",tabindex:"0",onKeydown:de(ne(re,["prevent"]),["enter"]),"aria-label":"Reset timer"}," R ",40,Ye),n[9]||(n[9]=te(" Reset "))]),o("div",{class:"controls-text",tabindex:"0",onClick:n[2]||(n[2]=e=>E.value=!0)},[o("span",{class:"controls-key",role:"button",tabindex:"0",onKeydown:n[1]||(n[1]=de(ne(e=>E.value=!0,["prevent"]),["enter"])),"aria-label":"Open settings"}," P ",32),n[10]||(n[10]=te(" Settings "))])])])]),E.value?(X(),j("div",{key:0,class:"settings-overlay",onClick:n[7]||(n[7]=e=>E.value=!1)},[o("div",{class:"settings-panel",onClick:n[6]||(n[6]=ne(()=>{},["stop"]))},[o("div",Je,[n[12]||(n[12]=o("h2",null,"Settings",-1)),o("button",{class:"settings-close",onClick:n[3]||(n[3]=e=>E.value=!1),"aria-label":"Close settings"}," Ã— ")]),o("div",je,[o("div",Xe,[n[14]||(n[14]=o("div",{class:"setting-label"},[o("span",{class:"setting-icon"},"ðŸ”Š"),o("span",null,"Chime Sound (plays 3x)")],-1)),o("div",Ze,[o("label",et,[Ve(o("input",{type:"checkbox","onUpdate:modelValue":n[4]||(n[4]=e=>M.value=e)},null,512),[[qe,M.value]]),n[13]||(n[13]=o("span",{class:"toggle-slider"},null,-1))])])]),o("div",tt,[n[16]||(n[16]=o("div",{class:"setting-label"},[o("span",{class:"setting-icon"},"ðŸ””"),o("span",null,"Browser Notifications")],-1)),o("div",nt,[o("label",it,[Ve(o("input",{type:"checkbox","onUpdate:modelValue":n[5]||(n[5]=e=>L.value=e)},null,512),[[qe,L.value]]),n[15]||(n[15]=o("span",{class:"toggle-slider"},null,-1))])])]),o("div",at,[n[17]||(n[17]=o("div",{class:"setting-label"},[o("span",{class:"setting-icon"},"ðŸŽµ"),o("span",null,"Test Chime")],-1)),o("div",st,[o("button",{class:"test-button",onClick:Y,disabled:!M.value}," Play ",8,ot)])])]),n[18]||(n[18]=o("div",{class:"settings-footer"},[o("p",{class:"settings-hint"},[te(" Press "),o("kbd",null,"P"),te(" to close settings ")])],-1))])])):De("",!0)]))}}),ft=le(mt,[["__scopeId","data-v-d04a3057"]]),pt={class:"home-page"},vt=oe({__name:"index",setup(x){return(g,m)=>(X(),j("div",pt,[pe(ft)]))}}),kt=le(vt,[["__scopeId","data-v-937d66dd"]]);export{kt as default};
