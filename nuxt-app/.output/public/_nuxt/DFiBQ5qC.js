import{d as O,r as S,o as Y,F as z,G as A,y as W,z as $,_ as D,k as V,H,A as d,I as X,J as Z,K as ee,L as te,M as B,B as K,N as ne,C as U,E as G,O as J}from"./D6jHuQi8.js";const j=250,ae=O({__name:"Paani",props:{progress:{type:Number,default:0},flushing:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1},remainingMinutes:{type:Number,default:0},progressPercentage:{type:Number,default:0}},setup(u){const a=u,n=S(null);let e=null,c;const s=[];let v=0,h=0,m=0,x=0,w=0;function b(){n.value&&(n.value.width=window.innerWidth,n.value.height=window.innerHeight,v=window.innerHeight,n.value.style.width="100vw",n.value.style.height="100vh")}function E(){s.length=0;for(let t=0;t<j;t++)s.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,length:Math.random()*8+4,speed:Math.random()*2+.8})}function C(){s.length=0;for(let t=0;t<j;t++)s.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,length:Math.random()*8+4,speed:Math.random()*2+.8})}function F(t){if(!e||!n.value)return;(isNaN(t)||t<0)&&(t=n.value.height*.1);const o=[{opacity:.3,waveOffset:h*.5,amplitude:8},{opacity:.5,waveOffset:h*.8,amplitude:12},{opacity:.7,waveOffset:h,amplitude:10}];for(const l of o){e.save(),e.beginPath(),e.moveTo(-10,t);const y=.015;for(let g=-10;g<=n.value.width+10;g+=2){const R=t+Math.sin(g*y+l.waveOffset)*l.amplitude;e.lineTo(g,R)}e.lineTo(n.value.width+10,n.value.height),e.lineTo(-10,n.value.height),e.closePath(),e.fillStyle=`rgba(66, 184, 255, ${l.opacity})`,e.shadowColor=`rgba(66, 184, 255, ${l.opacity*.4})`,e.shadowBlur=6,e.fill(),e.restore()}}function P(){if(!e||!n.value)return;e.clearRect(0,0,n.value.width,n.value.height);const t=a.progressPercentage>=.3&&a.progressPercentage<.5,o=a.progressPercentage>=.5&&a.progressPercentage<.7,l=a.progressPercentage>=.7&&a.progressPercentage<.8,y=a.progressPercentage>=.8&&a.progressPercentage<.95,g=a.progressPercentage>=.95&&a.progressPercentage<1;if(t||o||l||y||g){let f=0;t?f=(a.progressPercentage-.3)/.2:o?f=1+(a.progressPercentage-.5)/.2:l?f=2+(a.progressPercentage-.7)/.1:y?f=3+(a.progressPercentage-.8)/.15:g&&(f=4),e.fillStyle=`rgba(0, 0, 0, ${.05*f})`,e.fillRect(0,0,n.value.width,n.value.height),(l||y)&&x>0&&(e.fillStyle=`rgba(255, 255, 200, ${x*.4})`,e.fillRect(0,0,n.value.width,n.value.height),x-=.1)}const R=n.value.height-n.value.height*m;if(a.progress<1){let f=1,T=.5,M=1.2;t?(f=1.3,T=.55,M=1.3):o?(f=1.6,T=.6,M=1.4):l?(f=2,T=.7,M=1.6):(y||g)&&(f=2.5,T=.8,M=2),e.strokeStyle=`rgba(66, 184, 255, ${T})`,e.lineWidth=M;for(let L=0;L<s.length*f;L++){const _=s[L%s.length];e.beginPath(),e.moveTo(_.x,_.y),e.lineTo(_.x,_.y+_.length),e.stroke()}}F(R)}function I(){const t=v-v*m,o=a.isRunning?2.5:.4;for(const l of s)l.y+=l.speed*o,l.y+l.length>=t&&(l.y=0,l.x=Math.random()*window.innerWidth),l.y>v&&(l.y=0,l.x=Math.random()*window.innerWidth)}function k(){h+=a.isRunning?.08:.01,a.progressPercentage>=.7&&a.progressPercentage<.95&&(w++,w>120&&Math.random()<.02&&(x=1,w=0)),a.flushing?(m+=(0-m)*.15,m<.1&&C()):m+=(a.progress-m)*.08,P(),I(),c=requestAnimationFrame(k)}return Y(()=>{b(),E(),n.value&&(e=n.value.getContext("2d")),k(),window.addEventListener("resize",b)}),z(()=>{cancelAnimationFrame(c),window.removeEventListener("resize",b)}),A(()=>a.progress,()=>{P()}),(t,o)=>($(),W("canvas",{ref_key:"canvas",ref:n,class:"sand-canvas"},null,512))}}),ie=D(ae,[["__scopeId","data-v-4a6b41ed"]]),se=["tabindex","aria-disabled"],le=["onClick"],p=30,oe=3,re=O({__name:"MinuteWheelPicker",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},min:{type:Number,default:1},max:{type:Number,default:60},keyboard:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(u,{expose:a,emit:n}){const e=u,c=n,s=S((e.modelValue+e.max)*p),v=Math.floor(oe/2);let h=0,m=s.value;const x=V(()=>({transform:`translateY(${-s.value+v*p}px)`}));function w(t){c("update:modelValue",t)}function b(t){e.disabled||(s.value+=t.deltaY,I(),k(),s.value<=0&&t.deltaY<0?(c("update:modelValue",e.max),s.value=(e.max+e.max)*p):s.value>=(e.max-1)*p&&t.deltaY>0&&(c("update:modelValue",e.min),s.value=e.max*p))}function E(t){e.disabled||(h=t.touches[0].clientY,m=s.value)}function C(t){if(e.disabled)return;const o=t.touches[0].clientY-h;s.value=m-o,I(),k()}function F(){if(e.disabled)return;const t=Math.round(s.value/p)%e.max;w((t+e.max)%e.max+e.min),te(()=>{s.value=(e.modelValue-e.min+e.max)*p})}function P(t){e.disabled||(t.key==="ArrowUp"?(t.preventDefault(),e.modelValue>e.min?c("update:modelValue",e.modelValue-1):c("update:modelValue",e.max)):t.key==="ArrowDown"&&(t.preventDefault(),e.modelValue<e.max?c("update:modelValue",e.modelValue+1):c("update:modelValue",e.min)))}function I(){s.value<0&&(s.value=0),s.value>(e.max*3-1)*p&&(s.value=(e.max*3-1)*p)}function k(){const t=Math.round(s.value/p)%e.max;c("update:modelValue",(t+e.max)%e.max+e.min)}return A(()=>e.modelValue,t=>{s.value=(t-e.min+e.max)*p}),Y(()=>{e.keyboard&&window.addEventListener("keydown",P)}),z(()=>{e.keyboard&&window.removeEventListener("keydown",P)}),a({onWheel:b}),(t,o)=>($(),W("div",{class:"wheel-picker fade-list",tabindex:u.keyboard?0:void 0,onKeydown:o[0]||(o[0]=l=>u.keyboard?P:void 0),onWheel:H(b,["prevent"]),onTouchstart:E,onTouchmove:C,onTouchend:F,"aria-disabled":u.disabled},[d("div",{class:"wheel-list",style:X(x.value)},[o[1]||(o[1]=d("div",{class:"wheel-padding"},null,-1)),($(!0),W(Z,null,ee(u.max*3,l=>($(),W("div",{key:l,class:B(["wheel-item",{selected:(l-1)%u.max+u.min===u.modelValue,disabled:u.disabled}]),onClick:y=>!u.disabled&&w((l-1)%u.max+u.min)},K((l-1)%u.max+u.min),11,le))),128)),o[2]||(o[2]=d("div",{class:"wheel-padding"},null,-1))],4)],40,se))}}),ue=D(re,[["__scopeId","data-v-a1b9b371"]]),de=window.setInterval,ce={class:"focus-timer-bg"},fe={class:"focus-timer-wrapper"},ve={class:"timer-center"},me={class:"controls-row"},he=["onKeydown","aria-label"],ye=["onKeydown"],ge=5,Q=10,pe=600,we=1e3,xe=O({__name:"FocusTimer",setup(u){const a=S(ge),n=S(a.value*60),e=S(!1),c=S(!1),s=S(null);let v=null,h=!1;const m=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty","twenty-one","twenty-two","twenty-three","twenty-four","twenty-five","twenty-six","twenty-seven","twenty-eight","twenty-nine","thirty","thirty-one","thirty-two","thirty-three","thirty-four","thirty-five","thirty-six","thirty-seven","thirty-eight","thirty-nine","forty","forty-one","forty-two","forty-three","forty-four","forty-five","forty-six","forty-seven","forty-eight","forty-nine","fifty","fifty-one","fifty-two","fifty-three","fifty-four","fifty-five","fifty-six","fifty-seven","fifty-eight","fifty-nine","sixty"];function x(i){return i>=0&&i<=60?m[i]:i.toString()}const w=V(()=>Math.floor(n.value/60)),b=V(()=>n.value%60),E=V(()=>1-n.value/(a.value*60)),C=V(()=>w.value===0&&b.value<Q),F=V(()=>n.value===0),P=V(()=>1-n.value/(a.value*60)),I=V(()=>{const i=w.value,r=b.value;if(i>1){const N=r>30?i+1:i;return`${x(N)} minutes left.`}return i===1?r===0?"Just one minute left.":k(r):i===0&&r>0?k(r):"---"});function k(i){if(i<Q)return`${i}`;{const r=Math.floor(i/10)*10;return`Only ${x(r)} seconds to go!`}}function t(){e.value||(e.value=!0,v=de(()=>{n.value>0?n.value--:o()},we))}function o(){e.value=!1,v&&(clearInterval(v),v=null)}function l(){e.value?o():t()}function y(){o(),c.value=!0,setTimeout(()=>{c.value=!1,n.value=a.value*60},pe)}function g(i){i.code==="Space"?(i.preventDefault(),l()):(i.key==="r"||i.key==="R")&&(i.preventDefault(),y())}function R(i){var N,q;if(e.value)return;const r=s.value;(q=(N=r==null?void 0:r.$)==null?void 0:N.exposed)!=null&&q.onWheel&&r.$.exposed.onWheel(i)}A(a,i=>{h||e.value||(n.value=i*60)});const f=ne();Y(()=>{T(),M()}),z(()=>{L(),_()});function T(){h=!0;const i=parseInt(f.query.min);!isNaN(i)&&i>=0&&(a.value=i,n.value=i*60),h=!1}function M(){window.addEventListener("keydown",g),document.addEventListener("wheel",R,{passive:!1})}function L(){window.removeEventListener("keydown",g),document.removeEventListener("wheel",R)}function _(){v&&(clearInterval(v),v=null)}return(i,r)=>($(),W("div",ce,[d("div",fe,[U(ie,{class:"water-bg",progress:E.value,flushing:c.value,isRunning:e.value&&!F.value,remainingMinutes:w.value,progressPercentage:P.value},null,8,["progress","flushing","isRunning","remainingMinutes","progressPercentage"]),d("div",{class:B(["minute-picker-abs",{hidden:e.value}])},[U(ue,{ref_key:"minutePickerRef",ref:s,modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=N=>a.value=N),disabled:e.value,min:1},null,8,["modelValue","disabled"])],2),d("div",ve,[d("div",{class:B(["timer-display",{running:e.value,countdown:C.value}])},K(I.value),3),d("div",me,[r[3]||(r[3]=d("div",{class:"controls-text",tabindex:"0"},[d("span",{class:"controls-key"},"↑"),d("span",{class:"controls-key"},"↓"),G(" Set minutes ")],-1)),d("div",{class:"controls-text",tabindex:"0",onClick:l},[d("span",{class:"controls-key controls-space",role:"button",tabindex:"0",onKeydown:J(H(l,["prevent"]),["enter"]),"aria-label":e.value?"Pause":"Start"},r[1]||(r[1]=[d("span",{class:"spacebar-icon"},null,-1)]),40,he),d("span",null,K(e.value?"Pause":"Start"),1)]),d("div",{class:"controls-text",tabindex:"0",onClick:y},[d("span",{class:"controls-key",role:"button",tabindex:"0",onKeydown:J(H(y,["prevent"]),["enter"]),"aria-label":"Reset timer"}," R ",40,ye),r[2]||(r[2]=G(" Reset "))])])])])]))}}),be=D(xe,[["__scopeId","data-v-ef7c3688"]]),Pe={class:"home-page"},ke=O({__name:"index",setup(u){return(a,n)=>($(),W("div",Pe,[U(be)]))}}),Me=D(ke,[["__scopeId","data-v-937d66dd"]]);export{Me as default};
